!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=169)}({169:function(e,t,n){"use strict";function i(e){e&&e.parentNode.removeChild(e)}function o(){let e=document.createElement("div");return e.style.width="100%",e.style.height="100%",document.body.appendChild(e),e}function r(e,t){let n=(t-90)*Math.PI/180;return{x:e*Math.cos(n),y:e*Math.sin(n)}}function s(e){return Math.round(10*e/1048576)/10}n.r(t);let a=document.body.style.backgroundColor,l="#303030";class d{constructor(e){this.dom=o(),this.dom.id="loader",this.dom.style.position="absolute",this.dom.style.zIndex=-1;let t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",this.dom.appendChild(t);let n=this.init_svg(),i=document.createElement("div");i.innerHTML=n,t.appendChild(i),this.progress_indicator=document.getElementById("progress_indicator"),this.progress_indicator_mask=document.getElementById("progress_indicator_mask"),this.progress_indicator_corner=document.getElementById("progress_indicator_corner"),this.set(0),this.set_opacity(0),e.no_loader?this.initialized=new Promise(e=>{e()}):this.initialized=this.animate_show(),this.animate_rotation(),this.destroyed=!1}init_svg(){return function(e,t,n){return`\n    <svg version="1.1" baseProfile="full" xmlns="http://www.w3.org/2000/svg"\n         xmlns:xlink="http://www.w3.org/1999/xlink"\n         height="${t}" width="${e}" viewBox="0 0 ${t} ${e}">\n    ${n}\n    </svg>`}(128,128,`\n            <defs>\n                <g id="progress_bar">\n                    <circle fill="${l}" r="60"                               />\n                    <circle fill="${a}"     r="48"                               />\n                    <path   fill="${a}"     opacity="0.9" id="progress_indicator_mask"   />\n                    <circle fill="${l}" r="6" id="progress_indicator_corner" />\n                    <circle fill="${l}" r="6" cy="-54"            />\n                </g>\n            </defs>\n            <g transform="translate(64,64)">\n                <g transform="rotate(0,0,0)" id="progress_indicator">\n                    <use xlink:href="#progress_bar"></use>\n                </g>\n            </g>\n        `)}destroy(){i(this.dom),this.destroyed=!0}set(e){let t=359*(1-e)-0,n=r(54,-t);this.progress_indicator_mask.setAttribute("d",function(e,t){let n=0;t<0&&(n=t,t=0);let i=r(e,t),o=r(e,n),s=t-n<=180?"0":"1";return`M 0 0 L ${i.x} ${i.y} A ${e} ${e} 0 ${s} 0 ${o.x} ${o.y}`}(128,-t)),this.progress_indicator_corner.setAttribute("cx",n.x),this.progress_indicator_corner.setAttribute("cy",n.y)}set_opacity(e){this.progress_indicator.setAttribute("opacity",e)}set_rotation(e){this.progress_indicator.setAttribute("transform",`rotate(${e},0,0)`)}animate_show(){let e=this;return new Promise(function(t,n){let i=0;window.requestAnimationFrame(function n(){var o;i>1&&(i=1),e.set_opacity((o=i)<.5?2*o*o:1-(-2*o+2)*(-2*o+2)/2),(i+=.02)<1?window.requestAnimationFrame(n):(console.log("SHOW END"),t())})})}animate_rotation(){let e=this,t=0;window.requestAnimationFrame(function n(i){e.set_rotation(t),t+=6,e.destroyed||window.requestAnimationFrame(n)})}}class c{constructor(e,t){this.indicator=new d(t),this.total_bytes=0,this.received_bytes=0,this.download_speed=0,this.last_receive_time=performance.now(),this.initialized=this.indicator.initialized;let n=this;this.done_resolve=null,this.done=new Promise(e=>{n.done_resolve=e});for(let t of e)this.total_bytes+=parseInt(t.headers.get("Content-Length")),t.clone().body.pipeTo(this.input_stream());Number.isNaN(this.total_bytes)&&(console.error("Loader error. Server is not configured to send the 'Content-Length' metadata."),this.total_bytes=0)}value(){return 0==this.total_bytes?.3:this.received_bytes/this.total_bytes}is_done(){return this.received_bytes==this.total_bytes}destroy(){this.indicator.destroy()}on_receive(e){this.received_bytes+=e;let t=performance.now(),n=t-this.last_receive_time;this.download_speed=e/n,this.last_receive_time=t;let i=this.show_percentage_value(),o=this.show_download_speed(),r=this.show_received_bytes();console.log(`${i}% (${r}) (${o}).`),this.indicator.set(this.value()),this.is_done()&&this.done_resolve()}show_percentage_value(){return Math.round(100*this.value())}show_total_bytes(){return`${s(this.total_bytes)} MB`}show_received_bytes(){return`${s(this.received_bytes)} MB`}show_download_speed(){return`${s(1e3*this.download_speed)} MB/s`}input_stream(){let e=this;return new WritableStream({write(t){e.on_receive(t.length)}})}}let u="\n'WebAssembly.instantiateStreaming' failed because your server does not serve wasm with\n'application/wasm' MIME type. Falling back to 'WebAssembly.instantiate' which is slower.\n";function h(e,t){return WebAssembly.instantiateStreaming(e,t).catch(e=>wasm_fetch.then(t=>{if("application/wasm"!=t.headers.get("Content-Type"))return console.warn(`${u} Original error:\n`,e),t.arrayBuffer();throw"Server not configured to serve WASM with 'application/wasm' mime type."}).then(e=>WebAssembly.instantiate(e,t)))}async function p(e){let t=await fetch("./wasm_imports.js"),n=await fetch("./gui.wasm"),i=new c([t,n],e);i.done.then(()=>{console.groupEnd(),console.log("Download finished. Finishing WASM compilation.")});let o=async function(e,t){let n;console.groupCollapsed(e);try{n=await t()}catch(e){throw console.groupEnd(),e}return console.groupEnd(),n}(`Downloading WASM binary and its dependencies (${i.show_total_bytes()}).`,async()=>{let e=await t.text(),i=Function("let exports = {};"+e+"; return exports")(),o=i.wasm_imports();console.log("WASM dependencies loaded."),console.log("Starting online WASM compilation.");let r=await h(n,o);return r.wasm_glue=i,r}),r=await o.then(({instance:e,module:t,wasm_glue:n})=>{let i=e.exports;return n.after_load(i,t),i});return console.log("WASM Compiled."),await i.initialized,{wasm:r,loader:i}}let m="ide",_="run_example_";function f(e,t){let n=[];for(let t of Object.getOwnPropertyNames(e))if(t.startsWith(_)){let e=t.replace(_,"");n.push(e)}""!==t&&null!=t||(t="");let r=o(),s=document.createElement("div"),a=document.createTextNode(t+"Choose an example:"),l=(document.getElementById("app"),document.createElement("ul"));s.appendChild(a),r.appendChild(s),s.appendChild(l);for(let t of n){let n=document.createElement("li"),o=document.createElement("a"),s=document.createTextNode(t);l.appendChild(n),o.appendChild(s),o.title=t,o.href="javascript:{}",o.onclick=()=>{i(r),(0,e[_+t])()},n.appendChild(o)}}!async function(){let e=window.location.href.split("/");e.splice(0,3);let t="debug"==e[0],n=e[1],i=t&&n,{wasm:o,loader:r}=await p({no_loader:i});if(t)if(r.destroy(),n){let e=_+n,t=o[e];t?t():f(o,"WASM function '"+e+"' not found! ")}else f(o);else o[_+m]()}()}})});